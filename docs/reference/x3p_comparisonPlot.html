<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Plot filtered element-wise average and differences for two cartridge case
scans"><title>Plot filtered element-wise average and differences for two cartridge case
scans — x3p_comparisonPlot • impressions</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plot filtered element-wise average and differences for two cartridge case
scans — x3p_comparisonPlot"><meta property="og:description" content="Plot filtered element-wise average and differences for two cartridge case
scans"><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">impressions</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/x3pPlot-function.html">Using and tweaking x3pPlot()</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Plot filtered element-wise average and differences for two cartridge case
scans</h1>
      
      <div class="d-none name"><code>x3p_comparisonPlot.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Plot filtered element-wise average and differences for two cartridge case
scans</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">x3p_comparisonPlot</span><span class="op">(</span></span>
<span>  <span class="va">x3p1</span>,</span>
<span>  <span class="va">x3p2</span>,</span>
<span>  threshold <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  plotLabels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x3p1"</span>, <span class="st">"x3p2"</span>, <span class="st">"Element-wise Average"</span>, <span class="st">"x3p1 diff."</span>, <span class="st">"x3p2 diff."</span><span class="op">)</span>,</span>
<span>  showOutlines <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  labelSize <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  label_x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">x3p1</span><span class="op">$</span><span class="va">surface.matrix</span><span class="op">)</span><span class="op">/</span><span class="fl">2</span>,</span>
<span>  label_y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">x3p1</span><span class="op">$</span><span class="va">surface.matrix</span><span class="op">)</span><span class="op">/</span><span class="fl">2</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"faceted"</span>,</span>
<span>  legendLength <span class="op">=</span> <span class="fu">grid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/unit.html" class="external-link">unit</a></span><span class="op">(</span><span class="fl">3</span>, <span class="st">"in"</span><span class="op">)</span>,</span>
<span>  legendUnit <span class="op">=</span> <span class="st">"Norm."</span>,</span>
<span>  legendHoriz <span class="op">=</span> <span class="op">-</span><span class="fl">1.2</span>,</span>
<span>  legendQuantiles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.01</span>, <span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>, <span class="fl">0.99</span>, <span class="fl">1</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x3p1</dt>
<dd><p>an x3p object</p></dd>


<dt>x3p2</dt>
<dd><p>another x3p object</p></dd>


<dt>threshold</dt>
<dd><p>the default filtering threshold. Defaults to a scalar (1
micron = 1e-6 meters), but can also be set to a scalar-valued function that
takes x3p1 and x3p2 as arguments. For example, threshold =
impressions::x3p_sd will use the joint standard deviation of x3p1 and x3p2
as the threshold.</p></dd>


<dt>plotLabels</dt>
<dd><p>a character vector of five elements that will display as
labels on each plot</p></dd>


<dt>showOutlines</dt>
<dd><p>boolean value of whether to show outline around the
filtered elements in the element-wise average and difference plots. See
notes for more details</p></dd>


<dt>labelSize</dt>
<dd><p>font size for the plot labels</p></dd>


<dt>label_x</dt>
<dd><p>horizontal location of the plot labels</p></dd>


<dt>label_y</dt>
<dd><p>vertical location of the plot labels</p></dd>


<dt>type</dt>
<dd><p>return the five plots in a single, faceted plot or as a list</p></dd>


<dt>legendLength</dt>
<dd><p>length of the plot legend. Passed to the barwidth
argument of the ggplot2::guide_colorbar function</p></dd>


<dt>legendUnit</dt>
<dd><p>unit of measurement for the surface values (typically
either "micron" or "Norm.")</p></dd>


<dt>legendHoriz</dt>
<dd><p>horizontal location of the legend. Passed to the
patchwork::inset_element function</p></dd>


<dt>legendQuantiles</dt>
<dd><p>quantile values to be shown as legend labels. Passed
within the breaks argument of the ggplot2::scale_fill_gradientn function</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>The showOutlines argument set to FALSE sidesteps a computation of
  outlines for the filtered regions in the comparison plot. This is because
  some systems, particularly Linux systems, may not have the necessary
  libraries required to compute the outline installed by default.
  Specifically, the function to compute the outlines relies on an R package
  called rgeos (https://cran.r-project.org/web/packages/rgeos/index.html),
  which is an API to the geos geometry engine (https://libgeos.org/). Linux
  users need to install geos to install rgeos to compute the outline. See
  this post for more info:
  https://stackoverflow.com/questions/53389181/installing-the-r-package-rgeos-on-linux-geos-config-not-found-or-not-executab
  Alternatively, you can skip the outline calculation all together using
  this showOutlines argument at the expense of not seeing the region
  outlines, which are more a nice visual aid than a necessary component of
  the plot.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>dplyr::guide_colorbar</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"K013sA1"</span>,<span class="st">"K013sA2"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">compData</span> <span class="op">&lt;-</span> <span class="fu">cmcR</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/cmcR/man/comparison_allTogether.html" class="external-link">comparison_allTogether</a></span><span class="op">(</span>reference <span class="op">=</span> <span class="va">K013sA1</span>,</span></span>
<span class="r-in"><span>                                         target <span class="op">=</span> <span class="va">K013sA2</span>,</span></span>
<span class="r-in"><span>                                         theta <span class="op">=</span> <span class="fl">3</span>,numCells <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                         maxMissingProp <span class="op">=</span> <span class="fl">.99</span>,</span></span>
<span class="r-in"><span>                                         sideLengthMultiplier <span class="op">=</span> <span class="fl">1.1</span>,</span></span>
<span class="r-in"><span>                                         returnX3Ps <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">x3p_comparisonPlot</span><span class="op">(</span>x3p1 <span class="op">=</span> <span class="va">compData</span><span class="op">$</span><span class="va">cellHeightValues</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>,x3p2 <span class="op">=</span> <span class="va">compData</span><span class="op">$</span><span class="va">alignedTargetCell</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Regions defined for each Polygons</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Duplicated aesthetics after name standardisation: <span style="color: #00BB00;">colour</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Duplicated aesthetics after name standardisation: <span style="color: #00BB00;">colour</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Duplicated aesthetics after name standardisation: <span style="color: #00BB00;">colour</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Raster pixels are placed at uneven horizontal intervals and will be shifted</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Consider using `geom_tile()` instead.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Raster pixels are placed at uneven horizontal intervals and will be shifted</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Consider using `geom_tile()` instead.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Raster pixels are placed at uneven horizontal intervals and will be shifted</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Consider using `geom_tile()` instead.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Raster pixels are placed at uneven horizontal intervals and will be shifted</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Consider using `geom_tile()` instead.</span>
<span class="r-plt img"><img src="x3p_comparisonPlot-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://jzemmels.github.io/" class="external-link">Joseph Zemmels</a>, <a href="https://github.com/heike" class="external-link">Heike Hofmann</a>, <a href="https://srvanderplas.netlify.app/" class="external-link">Susan VanderPlas</a>, <a href="https://forensicstats.org/" class="external-link">CSAFE</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

